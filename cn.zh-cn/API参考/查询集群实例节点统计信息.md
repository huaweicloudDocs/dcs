# 查询集群实例节点统计信息<a name="ZH-CN_TOPIC_0141886042"></a>

查询租户集群实例各个节点所存储数据的统计信息。当前部分老的集群实例不支持该接口，可联系运维人员处理。

## **URI**<a name="section678380145219"></a>

GET /v2/\{project\_id\}/instances/\{instance\_id\}/storage-nodes

参数说明见[表1](#table8593726183514)。

**表 1**  参数说明

<a name="table8593726183514"></a>
<table><thead align="left"><tr id="row1759392653515"><th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.1"><p id="p65922269352"><a name="p65922269352"></a><a name="p65922269352"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.2"><p id="p10592172653513"><a name="p10592172653513"></a><a name="p10592172653513"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.3"><p id="p35931926163513"><a name="p35931926163513"></a><a name="p35931926163513"></a>必选</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.4"><p id="p1259392633512"><a name="p1259392633512"></a><a name="p1259392633512"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row1593202653513"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p959392614353"><a name="p959392614353"></a><a name="p959392614353"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.2 "><p id="p6593126103516"><a name="p6593126103516"></a><a name="p6593126103516"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.3 "><p id="p1759342693511"><a name="p1759342693511"></a><a name="p1759342693511"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.4 "><p id="p1359302623515"><a name="p1359302623515"></a><a name="p1359302623515"></a>项目ID。</p>
</td>
</tr>
<tr id="row153716198183"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p8386198181"><a name="p8386198181"></a><a name="p8386198181"></a>instance_id</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.2 "><p id="p1982358181818"><a name="p1982358181818"></a><a name="p1982358181818"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.3 "><p id="p58445816184"><a name="p58445816184"></a><a name="p58445816184"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.4 "><p id="p4381819151818"><a name="p4381819151818"></a><a name="p4381819151818"></a>实例ID。</p>
</td>
</tr>
</tbody>
</table>

## **请求消息**<a name="section525620116529"></a>

**请求参数**

无。

**请求示例**

无。

## **响应消息**<a name="section1076710320527"></a>

**响应参数**

参数说明见[表2](#table7914256164)。

**表 2**  参数说明

<a name="table7914256164"></a>
<table><thead align="left"><tr id="row6914195611613"><th class="cellrowborder" valign="top" width="30%" id="mcps1.2.4.1.1"><p id="p1191417569612"><a name="p1191417569612"></a><a name="p1191417569612"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="17%" id="mcps1.2.4.1.2"><p id="p1191415613619"><a name="p1191415613619"></a><a name="p1191415613619"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="53%" id="mcps1.2.4.1.3"><p id="p691414560620"><a name="p691414560620"></a><a name="p691414560620"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row1491513561461"><td class="cellrowborder" valign="top" width="30%" headers="mcps1.2.4.1.1 "><p id="p201351052112218"><a name="p201351052112218"></a><a name="p201351052112218"></a>group_id</p>
</td>
<td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.2 "><p id="p49561935102419"><a name="p49561935102419"></a><a name="p49561935102419"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.4.1.3 "><p id="p79151056865"><a name="p79151056865"></a><a name="p79151056865"></a>集群存储节点分组ID。</p>
</td>
</tr>
<tr id="row19698149103520"><td class="cellrowborder" valign="top" width="30%" headers="mcps1.2.4.1.1 "><p id="p676716583227"><a name="p676716583227"></a><a name="p676716583227"></a>max_memory</p>
</td>
<td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.2 "><p id="p1395917357241"><a name="p1395917357241"></a><a name="p1395917357241"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.4.1.3 "><p id="p141482051103516"><a name="p141482051103516"></a><a name="p141482051103516"></a>节点最大可用内存上限，单位：MB。</p>
</td>
</tr>
<tr id="row1191516561968"><td class="cellrowborder" valign="top" width="30%" headers="mcps1.2.4.1.1 "><p id="p1476615802211"><a name="p1476615802211"></a><a name="p1476615802211"></a>used_memory</p>
</td>
<td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.2 "><p id="p139631935102413"><a name="p139631935102413"></a><a name="p139631935102413"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.4.1.3 "><p id="p291565620618"><a name="p291565620618"></a><a name="p291565620618"></a>节点已经使用内存，单位：MB。</p>
</td>
</tr>
<tr id="row59151956264"><td class="cellrowborder" valign="top" width="30%" headers="mcps1.2.4.1.1 "><p id="p5764458142212"><a name="p5764458142212"></a><a name="p5764458142212"></a>qps</p>
</td>
<td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.2 "><p id="p49661535202411"><a name="p49661535202411"></a><a name="p49661535202411"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.4.1.3 "><p id="p1991517561466"><a name="p1991517561466"></a><a name="p1991517561466"></a>节点每秒并发操作数。</p>
</td>
</tr>
<tr id="row8915156766"><td class="cellrowborder" valign="top" width="30%" headers="mcps1.2.4.1.1 "><p id="p17764858122218"><a name="p17764858122218"></a><a name="p17764858122218"></a>bandwidth</p>
</td>
<td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.2 "><p id="p79701935132413"><a name="p79701935132413"></a><a name="p79701935132413"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.4.1.3 "><p id="p39157564612"><a name="p39157564612"></a><a name="p39157564612"></a>节点带宽。</p>
</td>
</tr>
<tr id="row139151356469"><td class="cellrowborder" valign="top" width="30%" headers="mcps1.2.4.1.1 "><p id="p1976465892212"><a name="p1976465892212"></a><a name="p1976465892212"></a>db_num</p>
</td>
<td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.2 "><p id="p11974153511243"><a name="p11974153511243"></a><a name="p11974153511243"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.4.1.3 "><p id="p09157568619"><a name="p09157568619"></a><a name="p09157568619"></a>数据库编号。</p>
</td>
</tr>
<tr id="row139151156268"><td class="cellrowborder" valign="top" width="30%" headers="mcps1.2.4.1.1 "><p id="p1776175812219"><a name="p1776175812219"></a><a name="p1776175812219"></a>keyspace</p>
</td>
<td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.2 "><p id="p69151656567"><a name="p69151656567"></a><a name="p69151656567"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.4.1.3 "><p id="p391520565615"><a name="p391520565615"></a><a name="p391520565615"></a>数据库中已存储数据的统计信息。</p>
</td>
</tr>
<tr id="row6915356665"><td class="cellrowborder" valign="top" width="30%" headers="mcps1.2.4.1.1 "><p id="p137602058182218"><a name="p137602058182218"></a><a name="p137602058182218"></a>slot_num</p>
</td>
<td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.2 "><p id="p17916856466"><a name="p17916856466"></a><a name="p17916856466"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.4.1.3 "><p id="p391665616610"><a name="p391665616610"></a><a name="p391665616610"></a>槽编号。</p>
</td>
</tr>
<tr id="row159161561669"><td class="cellrowborder" valign="top" width="30%" headers="mcps1.2.4.1.1 "><p id="p127599587224"><a name="p127599587224"></a><a name="p127599587224"></a>slotspace</p>
</td>
<td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.2 "><p id="p149163561619"><a name="p149163561619"></a><a name="p149163561619"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.4.1.3 "><p id="p159161356362"><a name="p159161356362"></a><a name="p159161356362"></a>槽中已存储数据的统计信息。</p>
</td>
</tr>
</tbody>
</table>

**响应示例**

```
{
                "group_id": 0,
                "max_memory": "xx",
                "used_memory": "xx",
                "qps": "xx",
                "bandwidth": {
                                "input": "xx",
                                "output": "xx"
                },
                "db_num": "xx",
                "keyspace": [{
                                "db_idx": "xx",
                                "keys": "xx",
                                "expires": "xx",
                                "avg_ttl": "xx"
                }],
                "slot_num": "xx",
                "slotspace": [{
                                "idx": "xx",
                                "keys": "xx"
                }]
}
```

## **状态码**<a name="section143993303124"></a>

操作成功的状态码如[表3](#table63992308123)所示，其他响应见[表1](状态码.md#table5210141351517)。

**表 3**  状态码

<a name="table63992308123"></a>
<table><thead align="left"><tr id="row1400230201218"><th class="cellrowborder" valign="top" width="15.98%" id="mcps1.2.3.1.1"><p id="p14009308126"><a name="p14009308126"></a><a name="p14009308126"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="84.02%" id="mcps1.2.3.1.2"><p id="p13400203001219"><a name="p13400203001219"></a><a name="p13400203001219"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row540016305125"><td class="cellrowborder" valign="top" width="15.98%" headers="mcps1.2.3.1.1 "><p id="p3400163015122"><a name="p3400163015122"></a><a name="p3400163015122"></a>200</p>
</td>
<td class="cellrowborder" valign="top" width="84.02%" headers="mcps1.2.3.1.2 "><p id="p24001308129"><a name="p24001308129"></a><a name="p24001308129"></a>查询集群实例节点统计信息成功。</p>
</td>
</tr>
</tbody>
</table>

