# 变更缓存实例规格<a name="zh-cn_topic_0061845451"></a>

DCS管理控制台支持变更Redis 3.x和Memcached缓存实例规格，即扩容/缩容，您可以根据实际需要，选择合适的实例规格。

>![](public_sys-resources/icon-notice.gif) **注意：**   
>-   集群规格变更之后，变更前备份的文件不支持恢复操作。建议在变更完成之后，尽快执行一次备份操作。  
>-   集群实例不支持缩容操作。  
>-   单机和主备实例规格变更大约需要5到30分钟，集群实例规格变更涉及到数据重分布，所需时间稍长。变更期间可能会有秒级业务中断，建议选择业务低峰阶段进行规格变更操作。  
>-   正常状态下，变更规格期间，单机/主备和集群实例仍然支持数据读写，但如果是单机/主备实例，会出现短时间的不能写入数据的情况；扩容完成后会自动恢复。  
>-   DCS缓存实例规格变更完成后，将按照新的实例规格进行计费。  

## 前提条件<a name="section83110548119"></a>

-   只有Redis和Memcached实例支持规格变更操作，IMDG实例不支持。
-   只有当DCS缓存实例处于“运行中”状态，才能执行规格变更操作。

## 操作步骤<a name="section7311155411113"></a>

1.  登录[分布式缓存服务管理控制台](https://console.huaweicloud.com/dcs)。
2.  在管理控制台左上角单击![](figures/icon-region.png)，选择区域和项目。
3.  单击左侧菜单栏的“缓存管理”。
4.  在需要规格变更的实例右侧，单击“操作”栏下的“更多 \> 变更规格”，进入到变更实例规格页面。
5.  在变更实例规格页面中，选择您需要变更的目标规格。
    -   单机和主备实例支持的最大可变更规格为64GB。
    -   集群实例支持的最大可变更规格为1024GB。

6.  单击“提交”，开始变更DCS缓存实例。

    界面将会自动跳转到后台任务管理界面，您可查看变更任务的状态，具体可参考[管理实例后台任务](管理实例后台任务.md)。

    DCS单机和主备缓存实例规格变更大约需要5到30分钟，集群实例规格变更所需时间稍长。实例规格变更成功后，实例状态切换为“运行中”。

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >-   当单机实例规格变更失败时，实例对用户暂不可用，实例规格仍然为变更前的规格，部分管理操作（如参数配置、规格变更等）暂不支持，待后台完成变更处理后，实例将自动恢复正常，实例规格将更新为变更后的规格。  
    >-   当主备和集群实例规格变更失败时，实例对用户仍然可用，实例规格仍然为变更前的规格，部分管理操作（如参数配置、备份恢复、规格变更等）暂不支持，请按照变更前的规格使用，避免因数据超过规格而被丢失。  
    >-   当规格变更成功时，您可以按照新的规格使用DCS缓存实例。  


## 使用API方式变更缓存实例规格<a name="section1983962016368"></a>

您还可以使用API的方式修改缓存实例的规格，具体操作请查看以下链接。

[扩容缓存实例](https://support.huaweicloud.com/api-dcs/dcs-zh-api-180423024.html)

## 常见问题<a name="section15803114154418"></a>

[DCS实例规格变更（扩容/缩容）是否会业务中断？](https://support.huaweicloud.com/dcs_faq/dcs-zh-ug-190117006.html)

## 相关产品及文档<a name="section152613113129"></a>

<a name="td475c361406b4841ba0faa98fc782ed5"></a>
<table><thead align="left"><tr id="rb27d733848ce4e7a9386965803595f1b"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="a5cc8ae3032d8416f9696b6f2a50d82d4"><a name="a5cc8ae3032d8416f9696b6f2a50d82d4"></a><a name="a5cc8ae3032d8416f9696b6f2a50d82d4"></a>相关产品</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="ad3b8309045294369bdb9a006daef8f00"><a name="ad3b8309045294369bdb9a006daef8f00"></a><a name="ad3b8309045294369bdb9a006daef8f00"></a>相关文档</p>
</th>
</tr>
</thead>
<tbody><tr id="re4588baf45714b4f80c021cca1290879"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="a8c37acc50b884e0b9a71051bcb9179b4"><a name="a8c37acc50b884e0b9a71051bcb9179b4"></a><a name="a8c37acc50b884e0b9a71051bcb9179b4"></a><a href="https://www.huaweicloud.com/product/dcs.html?infodocbz" target="_blank" rel="noopener noreferrer">分布式缓存 Redis</a></p>
<p id="a11d9314698354304b9a9e9cb1270b5c9"><a name="a11d9314698354304b9a9e9cb1270b5c9"></a><a name="a11d9314698354304b9a9e9cb1270b5c9"></a><a href="https://www.huaweicloud.com/product/dcsmem.html?infodocbz" target="_blank" rel="noopener noreferrer">分布式缓存 Memcached</a></p>
<p id="abeaed75bd99c4aeeb5ef850c82a274f2"><a name="abeaed75bd99c4aeeb5ef850c82a274f2"></a><a name="abeaed75bd99c4aeeb5ef850c82a274f2"></a><a href="https://www.huaweicloud.com/product/ecs.html?infodocbz" target="_blank" rel="noopener noreferrer">弹性云服务器 ECS</a></p>
<p id="zh-cn_topic_0046844820_p841193941416"><a name="zh-cn_topic_0046844820_p841193941416"></a><a name="zh-cn_topic_0046844820_p841193941416"></a><a href="http://www.huaweicloud.com/product/vpc.html?infodocbz" target="_blank" rel="noopener noreferrer">虚拟私有云 VPC</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="a0c4ea7b976b745079231aeb676430680"><a name="a0c4ea7b976b745079231aeb676430680"></a><a name="a0c4ea7b976b745079231aeb676430680"></a><a href="https://support.huaweicloud.com/usermanual-dcs/dcs-zh-ug-180315001.html?infodocbz" target="_blank" rel="noopener noreferrer">购买Redis实例</a></p>
<p id="zh-cn_topic_0046844820_p682916370595"><a name="zh-cn_topic_0046844820_p682916370595"></a><a name="zh-cn_topic_0046844820_p682916370595"></a><a href="https://support.huaweicloud.com/usermanual-dcs/zh-cn_topic_0082114847.html?infodocbz" target="_blank" rel="noopener noreferrer">连接Redis实例</a></p>
<p id="a3d146c9e41904a09b098cc34a53b5652"><a name="a3d146c9e41904a09b098cc34a53b5652"></a><a name="a3d146c9e41904a09b098cc34a53b5652"></a><a href="https://support.huaweicloud.com/usermanual-dcs/zh-cn_topic_0061845451.html?infodocbz" target="_blank" rel="noopener noreferrer">变更缓存实例规格</a></p>
<p id="zh-cn_topic_0046844820_p12250886517"><a name="zh-cn_topic_0046844820_p12250886517"></a><a name="zh-cn_topic_0046844820_p12250886517"></a><a href="https://support.huaweicloud.com/usermanual-dcs/zh-cn_topic_0079545637.html?infodocbz" target="_blank" rel="noopener noreferrer">缓存实例备份恢复</a></p>
<p id="zh-cn_topic_0046844820_p143616360517"><a name="zh-cn_topic_0046844820_p143616360517"></a><a name="zh-cn_topic_0046844820_p143616360517"></a><a href="https://support.huaweicloud.com/migration-dcs/zh-cn_topic_0078784423.html?infodocbz" target="_blank" rel="noopener noreferrer">缓存实例数据迁移</a></p>
</td>
</tr>
</tbody>
</table>

